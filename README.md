# README

在复制库中进行以下操作：

1. 执行01、02号sql，创建copy表和触发器，新数据会从copy表中查询。

2. 确认me-hub、rollapp的分隔区块（一个较近的），基于该区块读取老数据，并生成物化视图，供直接查询。

3. 按照确定好的分隔区块，修改03、04号sql后执行，生成物化视图。

4. 按照确定好的分隔区块，修改05、06号sql后执行，从原表中将缺失的数据拷贝到copy表中。

5. 执行07号sql，更新接口对应的function，从物化视图和copy表取数据。

6. 将复制库关联到已有的hasura，从复制数据库加载function，提供接口的数据支持。

7. （可选）也可以单独搭建hasura，并关数据库、加载function，并在hasura上创建新接口，然后将该接口url路由到原来的url。

8. 访问原接口url，测试接口是否可用。
